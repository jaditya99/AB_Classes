<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>IIM Call Predictor with Percentile Estimator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: "Inter", sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background: #f9fafb;
      color: #7f1d1d;
    }
    .bar-container {
      background: #fee2e2; /* Light red */
      border-radius: 12px;
      height: 24px;
      position: relative;
      box-shadow: inset 0 2px 5px rgba(255, 0, 0, 0.15);
      margin-top: 8px;
    }
    .bar-fill {
      height: 100%;
      border-radius: 12px;
      position: absolute;
      top: 0;
      left: 0;
      transition: width 0.4s ease;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.3);
      opacity: 0.85;
    }
    .academics-fill {
      background: linear-gradient(90deg, #7f1d1d, #ef4444); /* Dark to bright red */
      z-index: 20;
    }
    .workex-fill {
      background: linear-gradient(90deg, #b91c1c, #f87171); /* Red shades */
      z-index: 20;
    }
    .cat-percentile-bar-container {
      background: #fee2e2; /* Light red */
      border-radius: 12px;
      height: 24px;
      position: relative;
      box-shadow: inset 0 2px 5px rgba(255, 0, 0, 0.15);
      margin-top: 12px;
      margin-bottom: 1rem;
      max-width: 100%;
      width: 100%;
      box-sizing: border-box;
    }
    .cat-percentile-bar-fill {
      height: 100%;
      border-radius: 12px;
      position: absolute;
      top: 0;
      left: 0;
      background: linear-gradient(90deg, #7f1d1d, #ef4444);
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.5);
      opacity: 0.95;
      transition: width 0.4s ease;
    }
    .thumb {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: white;
      border: 3px solid #7f1d1d; /* Dark red border */
      box-shadow: 0 2px 8px rgba(127, 29, 29, 0.6);
      transition: left 0.4s ease;
      z-index: 30;
    }
    .labels {
      display: flex;
      justify-content: space-between;
      margin-top: 6px;
      font-size: 0.875rem;
      color: #7f1d1d; /* Dark red */
      user-select: none;
      font-weight: 600;
    }
    .profile-eval-section {
      max-width: 4xl;
      margin: 0 auto;
    }
    .analysis {
      margin-top: 8px;
      font-size: 0.9rem;
      color: #7f1d1d;
      background: #fef2f2;
      border-left: 4px solid #ef4444;
      padding: 12px 16px;
      border-radius: 6px;
      user-select: text;
      min-height: 140px;
      white-space: pre-line;
    }
    .analysis-title {
      font-weight: 700;
      margin-bottom: 6px;
      color: #b91c1c;
    }
    @keyframes fade-in-up {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .animate-fade-in-up {
      animation: fade-in-up 0.8s ease forwards;
    }
    /* Table styles */
    .table-container {
      overflow-x: auto;
      margin-top: 0 !important;
      margin-bottom: 3rem;
    }
    table {
      border-collapse: separate;
      border-spacing: 0;
      width: 100%;
      min-width: 320px;
      background: white !important;
      border-radius: 0.5rem;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
      border: 1px solid #000000;
      color: #000000;
    }
    th,
    td {
      border-bottom: 1px solid #000000;
      border-right: 1px solid #000000;
      padding: 0.75rem 1rem;
      text-align: center;
      font-size: 0.9rem;
      color: #000000;
      background: white !important;
    }
    th:last-child,
    td:last-child {
      border-right: none;
    }
    tr:last-child td {
      border-bottom: none;
    }
    th {
      background-color: #ffffff !important;
      color: #000000 !important;
      font-weight: 700;
      border-bottom: 2px solid #000000;
    }
    caption {
      caption-side: top;
      font-weight: 700;
      font-size: 1.25rem;
      margin-bottom: 0.75rem;
      color: #000000;
      text-align: left;
    }
    /* Percentile predictor styles */
    .percentile-predictor {
      max-width: 5xl;
      margin: 2rem auto 0;
      background: transparent; /* Removed background */
      border-radius: 12px;
      padding: 2rem 1.5rem 0 1.5rem;
      box-shadow: none;
      color: #7f1d1d;
    }
    .percentile-predictor h2 {
      font-weight: 700;
      font-size: 1.75rem;
      color: #b91c1c;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    .input-group {
      margin-bottom: 1.25rem;
    }
    .input-label {
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: block;
      color: #7f1d1d;
    }
    .input-field,
    select {
      width: 100%;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      border: 1.5px solid #f87171;
      font-size: 1rem;
      color: #7f1d1d;
      outline-offset: 2px;
      transition: border-color 0.3s ease;
      background-color: #fff5f5;
    }
    .input-field:focus,
    select:focus {
      border-color: #b91c1c;
      box-shadow: 0 0 0 3px rgba(185, 28, 28, 0.3);
      background-color: white;
    }
    .btn-predict {
      background-color: #ff0000;
      color: white;
      font-weight: 700;
      padding: 0.75rem 2rem;
      border-radius: 10px;
      width: 100%;
      max-width: 320px;
      margin: 1.5rem auto 0;
      display: block;
      cursor: pointer;
      transition: background-color 0.3s ease;
      border: none;
      box-shadow: 0 4px 8px rgba(255, 0, 0, 0.4);
    }
    .btn-predict:hover {
      background-color: #b91c1c;
      box-shadow: 0 6px 12px rgba(185, 28, 28, 0.6);
    }
    .result-box {
      margin-top: 2rem;
      background: transparent; /* Removed background */
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: none;
      font-size: 1.1rem;
      color: #b91c1c;
      min-height: 80px;
      text-align: center;
      user-select: text;
      white-space: normal;
      position: relative;
      max-width: 100%;
      overflow-wrap: break-word;
    }
    .result-box p {
      margin-bottom: 0.5rem;
    }
    @media (min-width: 768px) {
      .form-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
      }
    }
    /* Guide section styles */
    .guide-section {
      max-width: 5xl;
      margin: 0 auto 4rem;
      background: white;
      border-radius: 12px;
      padding: 2rem 2rem 3rem;
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.15);
      color: #7f1d1d;
      font-size: 1rem;
      line-height: 1.6;
    }
    .guide-section h3 {
      font-weight: 700;
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #b91c1c;
    }
    .guide-section p,
    .guide-section ul,
    .guide-section ol {
      margin-bottom: 1rem;
    }
    .guide-section ul {
      list-style-type: disc;
      padding-left: 1.5rem;
    }
    .guide-section ol {
      list-style-type: decimal;
      padding-left: 1.5rem;
    }
    .guide-section ul li,
    .guide-section ol li {
      margin-bottom: 0.5rem;
    }
    /* CAT Score Vs Percentile Section */
    .cat-score-section {
      max-width: 5xl;
      margin: 0 auto 4rem;
      background: white;
      border-radius: 12px;
      padding: 2rem 2rem 3rem;
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.15);
      color: #000000;
      font-size: 1rem;
      line-height: 1.6;
    }
    .cat-score-section h3 {
      font-weight: 700;
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #000000;
      text-align: center;
    }
    .cat-score-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 2rem;
      color: #000000;
      background-color: white !important;
    }
    .cat-score-table th,
    .cat-score-table td {
      border: 1px solid #b91c1c;
      padding: 0.5rem 0.75rem;
      text-align: center;
      font-weight: 600;
      color: #000000;
      background-color: white !important;
      font-size: 0.9rem;
    }
    .cat-score-table th {
      background-color: #ffffff !important;
      color: #000000 !important;
    }
    .cat-score-subsection-container {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      justify-content: center;
      margin-bottom: 2rem;
    }
    .cat-score-subsection {
      flex: 1 1 300px;
      background: white !important;
      border-radius: 12px;
      padding: 1rem 1.5rem;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
      color: #000000;
    }
    .cat-score-subsection h4 {
      font-weight: 700;
      font-size: 1.25rem;
      margin-bottom: 0.75rem;
      color: #000000;
      text-align: center;
    }
    .cat-score-subsection table {
      width: 100%;
      border-collapse: collapse;
      background: white !important;
      color: #000000;
    }
    .cat-score-subsection table th,
    .cat-score-subsection table td {
      border: 1px solid #b91c1c;
      padding: 0.4rem 0.6rem;
      text-align: center;
      font-weight: 600;
      color: #000000;
      background-color: white !important;
      font-size: 0.85rem;
    }
    .cat-score-subsection table th {
      background-color: #ffffff !important;
      color: #000000 !important;
    }
    .cat-score-description {
      max-width: 4xl;
      margin: 0 auto 2rem;
      font-size: 0.95rem;
      color: #000000;
      line-height: 1.5;
      background: white;
      border-left: 4px solid #ef4444;
      padding: 16px 20px;
      border-radius: 6px;
      user-select: text;
    }
    @media (max-width: 768px) {
      .cat-score-table th,
      .cat-score-table td {
        font-size: 0.8rem;
        padding: 0.4rem 0.5rem;
      }
      .cat-score-subsection-container {
        flex-direction: column;
      }
    }
    /* Footer text color override */
    footer, footer * {
      color: #ffffff !important;
    }
    footer a {
      color: #ffffff !important;
      text-decoration: underline;
    }
    footer a:hover {
      color: #fbb6ce !important;
    }
  </style>
</head>
<body class="flex flex-col min-h-screen">
  <header class="bg-white shadow-md sticky top-0 z-50 border-b border-gray-200" role="banner">
   <div class="max-w-7xl mx-auto flex items-center justify-between p-4 md:p-6">
    <span class="text-3xl font-extrabold text-red-600 tracking-wide select-none">
     AB Classes
    </span>
    <nav aria-label="Primary Navigation" class="hidden md:flex space-x-10 font-semibold text-gray-700 tracking-wide" role="navigation">
     <a class="hover:text-red-600 transition duration-300 ease-in-out" href="index.html">
      Home
     </a>
     <a class="hover:text-red-600 transition duration-300 ease-in-out" href="cd.html">
      Courses
     </a>
     <a class="hover:text-red-600 transition duration-300 ease-in-out" href="#why-choose-title">
      Why Choose Us
     </a>
     <a class="hover:text-red-600 transition duration-300 ease-in-out" href="https://api.whatsapp.com/send?phone=919827118488&text=I%20want%20to%20enquire%20about%20AB%20Classes">
      Contact
     </a>
    </nav>
    <button aria-controls="mobile-menu" aria-expanded="false" aria-label="Toggle menu" class="md:hidden text-gray-700 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 rounded" id="mobile-menu-button">
     <i class="fas fa-bars fa-lg">
     </i>
    </button>
   </div>
   <nav aria-label="Mobile menu" class="hidden md:hidden bg-white border-t border-gray-200" id="mobile-menu">
    <a class="block px-6 py-3 border-b border-gray-200 hover:bg-red-50 hover:text-red-600 font-semibold transition" href="index.html">
     Home
    </a>
    <a class="block px-6 py-3 border-b border-gray-200 hover:bg-red-50 hover:text-red-600 font-semibold transition" href="cd.html">
     Courses
    </a>
    <a class="block px-6 py-3 border-b border-gray-200 hover:bg-red-50 hover:text-red-600 font-semibold transition" href="#why-choose-title">
     Why Choose Us
    </a>
    <a class="block px-6 py-3 hover:bg-red-50 hover:text-red-600 font-semibold transition" href="https://api.whatsapp.com/send?phone=919827118488&text=I%20want%20to%20enquire%20about%20AB%20Classes">
     Contact
    </a>
   </nav>
  </header>
  <header
    class="text-center px-4 overflow-hidden relative bg-red-600"
    role="banner"
    style="height: 45vh;"
  >
    <img
      alt="Red gradient abstract background with smooth transitions from dark to bright red, suitable for a professional header"
      aria-hidden="true"
      class="absolute inset-0 w-full h-full object-cover opacity-30 z-0"
      height="400"
      src="https://storage.googleapis.com/a1aa/image/31b3b92b-64cc-41c7-e72c-1310747c154c.jpg"
      tabindex="-1"
      width="1920"
    />
    <div class="relative z-10 flex flex-col items-center justify-center h-full">
      <h1
        class="text-white font-extrabold text-[3.5rem] leading-[1.1] md:text-[4rem] md:leading-[1.1] drop-shadow-lg animate-fade-in-up"
      >
        IIM Call Predictor
      </h1>
    </div>
  </header>
  <main
    class="bg-white rounded-tl-md rounded-tr-md w-full max-w-5xl px-6 py-8 md:px-12 md:py-10 -mt-12 md:-mt-16 z-10 relative mx-auto flex-grow"
  >
    <form
      aria-label="IIM Call Predictor Form"
      class="grid grid-cols-1 md:grid-cols-3 gap-x-8 gap-y-6 max-w-5xl mx-auto"
      id="predictorForm"
      novalidate=""
    >
      <div>
        <label
          class="block text-sm font-semibold text-gray-900 mb-1"
          for="name"
          >Name
          <span aria-hidden="true" class="text-red-600">*</span></label
        >
        <input
          aria-required="true"
          class="w-full rounded-md border border-gray-300 bg-red-50 px-3 py-2 text-red-900 placeholder-red-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
          id="name"
          name="name"
          placeholder="Enter your name"
          required=""
          type="text"
        />
      </div>
      <div>
        <label
          class="block text-sm font-semibold text-gray-900 mb-1"
          for="gender"
          >Gender
          <span aria-hidden="true" class="text-red-600">*</span></label
        >
        <select
          aria-required="true"
          class="w-full rounded-md border border-gray-300 bg-red-50 px-3 py-2 text-red-900 placeholder-red-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
          id="gender"
          name="gender"
          required=""
        >
          <option>Male</option>
          <option>Female</option>
          <option>Other</option>
        </select>
      </div>
      <div>
        <label
          class="block text-sm font-semibold text-gray-900 mb-1"
          for="category"
          >Category
          <span aria-hidden="true" class="text-red-600">*</span></label
        >
        <select
          aria-required="true"
          class="w-full rounded-md border border-gray-300 bg-red-50 px-3 py-2 text-red-900 placeholder-red-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
          id="category"
          name="category"
          required=""
        >
          <option>General</option>
          <option>OBC</option>
          <option>SC</option>
          <option>ST</option>
          <option>Other</option>
        </select>
      </div>
      <div>
        <label
          class="block text-sm font-semibold text-gray-900 mb-1"
          for="class10"
          >Class 10th percentage (out of 100)
          <span aria-hidden="true" class="text-red-600">*</span></label
        >
        <input
          aria-required="true"
          class="w-full rounded-md border border-gray-300 bg-red-50 px-3 py-2 text-red-900 placeholder-red-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
          id="class10"
          max="100"
          min="0"
          name="class10"
          placeholder="e.g. 92"
          required=""
          type="number"
        />
      </div>
      <div>
        <label
          class="block text-sm font-semibold text-gray-900 mb-1"
          for="class12"
          >Class 12th percentage (out of 100)
          <span aria-hidden="true" class="text-red-600">*</span></label
        >
        <input
          aria-required="true"
          class="w-full rounded-md border border-gray-300 bg-red-50 px-3 py-2 text-red-900 placeholder-red-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
          id="class12"
          max="100"
          min="0"
          name="class12"
          placeholder="e.g. 78"
          required=""
          type="number"
        />
      </div>
      <div>
        <label
          class="block text-sm font-semibold text-gray-900 mb-1"
          for="undergrad"
          >Undergrad percentage (out of 100)
          <span aria-hidden="true" class="text-red-600">*</span></label
        >
        <input
          aria-required="true"
          class="w-full rounded-md border border-gray-300 bg-red-50 px-3 py-2 text-red-900 placeholder-red-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
          id="undergrad"
          max="100"
          min="0"
          name="undergrad"
          placeholder="e.g. 74"
          required=""
          type="number"
        />
      </div>
      <div>
        <label
          class="block text-sm font-semibold text-gray-900 mb-1"
          for="undergradStream"
          >Undergrad Stream
          <span aria-hidden="true" class="text-red-600">*</span></label
        >
        <select
          aria-required="true"
          class="w-full rounded-md border border-gray-300 bg-red-50 px-3 py-2 text-red-900 placeholder-red-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
          id="undergradStream"
          name="undergradStream"
          required=""
        >
          <option value="AC-1">AC-1 (Medicine and Surgery)</option>
          <option value="AC-2">AC-2 (Professional Degrees)</option>
          <option value="AC-3"
            >AC-3 (Commerce, Eco, Fin and Management Related Degrees)</option
          >
          <option value="AC-4">AC-4 (Eng, Tech and Architecture)</option>
          <option value="AC-5">AC-5 (Arts/Humanities)</option>
          <option value="AC-6">AC-6 (Others)</option>
        </select>
      </div>
      <div>
        <label
          class="block text-sm font-semibold text-gray-900 mb-1"
          for="workex"
          >Work Experience (months)
          <span aria-hidden="true" class="text-red-600">*</span></label
        >
        <input
          aria-required="true"
          class="w-full rounded-md border border-gray-300 bg-red-50 px-3 py-2 text-red-900 placeholder-red-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
          id="workex"
          min="0"
          name="workex"
          placeholder="e.g. 12"
          required=""
          type="number"
        />
      </div>
      <div>
        <label
          class="block text-sm font-semibold text-gray-900 mb-1"
          for="catscore"
          >Do you have CAT score?
          <span aria-hidden="true" class="text-red-600">*</span></label
        >
        <select
          aria-required="true"
          class="w-full rounded-md border border-gray-300 bg-red-50 px-3 py-2 text-red-900 placeholder-red-400 focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
          id="catscore"
          name="catscore"
          required=""
        >
          <option>No</option>
          <option>Yes</option>
        </select>
      </div>
      <div
        class="col-span-1 md:col-span-3 space-y-6 mt-4 grid grid-cols-1 md:grid-cols-4 gap-6"
        id="catScoresContainer"
        style="display: none"
      >
        <div>
          <label class="input-label" for="catPercentile"
            >Enter your CAT percentile
            <span class="text-red-600">*</span></label
          >
          <input
            aria-required="true"
            class="input-field"
            id="catPercentile"
            max="100"
            min="0"
            name="catPercentile"
            placeholder="e.g. 98.5"
            step="0.1"
            type="number"
          />
        </div>
        <div>
          <label class="input-label" for="varcScore"
            >VARC scaled score
            <span class="text-red-600">*</span></label
          >
          <input
            aria-required="true"
            class="input-field"
            id="varcScore"
            max="100"
            min="0"
            name="varcScore"
            placeholder="Enter your VARC score"
            step="0.1"
            type="number"
          />
        </div>
        <div>
          <label class="input-label" for="dilrScore"
            >DILR scaled score
            <span class="text-red-600">*</span></label
          >
          <input
            aria-required="true"
            class="input-field"
            id="dilrScore"
            max="100"
            min="0"
            name="dilrScore"
            placeholder="Enter your DILR score"
            step="0.1"
            type="number"
          />
        </div>
        <div>
          <label class="input-label" for="qaScore"
            >QA scaled score
            <span class="text-red-600">*</span></label
          >
          <input
            aria-required="true"
            class="input-field"
            id="qaScore"
            max="100"
            min="0"
            name="qaScore"
            placeholder="Enter your QA score"
            step="0.1"
            type="number"
          />
        </div>
      </div>
    </form>
    <div class="flex justify-center mt-8">
      <button
        aria-label="Evaluate my profile"
        class="bg-red-600 hover:bg-red-900 text-white font-semibold rounded-md px-8 py-3 w-48"
        id="predictBtn"
        type="button"
      >
        Evaluate my profile
      </button>
    </div>
    <section
      aria-atomic="true"
      aria-live="polite"
      class="mt-12 w-full px-4 profile-eval-section max-w-4xl mx-auto"
    >
      <h2
        class="text-2xl font-extrabold text-center mb-8 text-red-900"
        id="profileTitle"
      >
        User's Profile Evaluation
      </h2>
      <div
        class="bg-white rounded-lg border border-red-400 p-6 shadow-sm w-full space-y-10"
      >
        <div>
          <h3 class="font-extrabold text-lg mb-4 text-red-900">Academics</h3>
          <div
            aria-atomic="true"
            aria-label="Academics profile evaluation bar"
            aria-live="polite"
            class="bar-container"
          >
            <div
              class="bar-fill academics-fill"
              id="academicsFill"
              style="width: 40%"
            ></div>
            <div
              aria-label="Academics rating indicator"
              class="thumb"
              id="academicsThumb"
              style="left: 40%"
            ></div>
          </div>
          <div class="labels">
            <span>Weak</span>
            <span>Average</span>
            <span>Above Average</span>
            <span>Strong</span>
          </div>
          <div
            aria-atomic="true"
            aria-live="polite"
            class="analysis"
            id="academicsAnalysis"
          >
            <div class="analysis-title">Analysis &amp; Tips</div>
            <div>Loading analysis...</div>
          </div>
        </div>
        <div>
          <h3 class="font-extrabold text-lg mb-4 text-red-900">
            Work Experience
          </h3>
          <div
            aria-atomic="true"
            aria-label="Work Experience profile evaluation bar"
            aria-live="polite"
            class="bar-container"
          >
            <div
              class="bar-fill workex-fill"
              id="workexFill"
              style="width: 25%"
            ></div>
            <div
              aria-label="Work Experience rating indicator"
              class="thumb"
              id="workexThumb"
              style="left: 25%"
            ></div>
          </div>
          <div class="labels">
            <span>Weak</span>
            <span>Average</span>
            <span>Above Average</span>
            <span>Strong</span>
          </div>
          <div
            aria-atomic="true"
            aria-live="polite"
            class="analysis"
            id="workexAnalysis"
          >
            <div class="analysis-title">Work Experience Evaluation</div>
            <div>Loading analysis...</div>
          </div>
        </div>
      </div>
    </section>
    <section aria-label="Estimated CAT Percentile Required" class="percentile-predictor">
      <h2 style="margin-bottom: 0;">Estimated CAT Percentile Required</h2>
      <div
        aria-atomic="true"
        aria-live="polite"
        class="result-box"
        id="percentileResult"
      >
        Please fill the form and click "Predict my calls" to see your estimated
        CAT percentile requirement.
        <div
          class="cat-percentile-bar-container"
          id="catPercentileBarWrapper"
          style="display: none"
        >
          <div class="cat-percentile-bar-fill" id="catPercentileBarFill" style="width:0%;"></div>
          <div class="thumb" id="catPercentileThumb" style="left:0%;"></div>
        </div>
      </div>
    </section>
    <section class="table-container" aria-label="List of colleges and their details">
      <table
        class="w-full max-w-5xl mx-auto border border-black rounded-md shadow-sm text-center"
        id="collegesTable"
      >
        <thead>
          <tr>
            <th class="py-2 px-4">#</th>
            <th class="py-2 px-4">College Name</th>
            <th class="py-2 px-4">Highest Package (INR LPA)</th>
            <th class="py-2 px-4">Average Package (INR LPA)</th>
            <th class="py-2 px-4">Exam &amp; Cutoff Percentile</th>
          </tr>
        </thead>
        <tbody class="text-black" id="collegesTableBody">
          <tr>
            <td>1</td>
            <td>IIM Ahmedabad</td>
            <td>70</td>
            <td>28</td>
            <td>CAT 99.5+</td>
          </tr>
          <tr>
            <td>2</td>
            <td>IIM Bangalore</td>
            <td>65</td>
            <td>27</td>
            <td>CAT 99.3+</td>
          </tr>
          <tr>
            <td>3</td>
            <td>IIM Calcutta</td>
            <td>60</td>
            <td>26</td>
            <td>CAT 99.3+</td>
          </tr>
          <tr>
            <td>4</td>
            <td>ISB</td>
            <td>75</td>
            <td>30</td>
            <td>GMAT 700+</td>
          </tr>
          <tr>
            <td>5</td>
            <td>XLRI</td>
            <td>55</td>
            <td>25</td>
            <td>XAT 94%</td>
          </tr>
          <tr>
            <td>6</td>
            <td>IIM Lucknow</td>
            <td>50</td>
            <td>22</td>
            <td>CAT 98.5+</td>
          </tr>
          <tr>
            <td>7</td>
            <td>FMS Delhi</td>
            <td>45</td>
            <td>20</td>
            <td>CAT 98.5+</td>
          </tr>
          <tr>
            <td>8</td>
            <td>SP Jain</td>
            <td>40</td>
            <td>18</td>
            <td>CAT 95+</td>
          </tr>
          <tr>
            <td>9</td>
            <td>IIM Kozhikode</td>
            <td>42</td>
            <td>19</td>
            <td>CAT 98+</td>
          </tr>
          <tr>
            <td>10</td>
            <td>IIM Indore</td>
            <td>38</td>
            <td>17</td>
            <td>CAT 97.5+</td>
          </tr>
          <tr>
            <td>11</td>
            <td>MDI Gurgaon</td>
            <td>40</td>
            <td>18</td>
            <td>CAT 97+</td>
          </tr>
          <tr>
            <td>12</td>
            <td>NMIMS Mumbai</td>
            <td>35</td>
            <td>16</td>
            <td>NMAT 320+</td>
          </tr>
          <tr>
            <td>13</td>
            <td>Great Lakes Institute of Management</td>
            <td>20</td>
            <td>10</td>
            <td>CAT 90+</td>
          </tr>
          <tr>
            <td>14</td>
            <td>TA Pai Management Institute (TAPMI)</td>
            <td>18</td>
            <td>9</td>
            <td>CAT 85+</td>
          </tr>
          <tr>
            <td>15</td>
            <td>Institute of Management Technology (IMT Ghaziabad)</td>
            <td>22</td>
            <td>11</td>
            <td>CAT 90+</td>
          </tr>
        </tbody>
      </table>
    </section>
    <section
      class="guide-section"
      aria-label="Step-by-step guide and information about AB CLASSES IIM Call Predictor 2025"
      id="guide-section"
    >
      <h3>Step-by-Step Guide to Using AB CLASSES’ IIM Call Predictor 2025</h3>
      <ol class="list-decimal list-inside mb-6">
        <li>Head over to AB CLASSES’ IIM Call Predictor tool.</li>
        <li>Fill in your CAT percentile, academic details, and work experience.</li>
        <li>Submit your information to get immediate predictions.</li>
        <li>Review the results to assess your chances and identify areas to work on.</li>
      </ol>
      <h3>What Makes AB CLASSES’ Call Predictor Unique?</h3>
      <p>
        Our IIM Call Predictor for 2025 uses smart analytics to evaluate your
        CAT score, academics, work experience, and other profile details.
        Here’s what it offers:
      </p>
      <ul>
        <li>A clear breakdown of your strengths and improvement areas.</li>
        <li>Reliable predictions for IIM calls based on recent cutoffs and selection trends.</li>
        <li>Personalized suggestions to upgrade your profile and boost your chances.</li>
      </ul>
      <h3>Understanding CAT Percentile</h3>
      <p>
        The CAT percentile shows how well you performed compared to other
        candidates. For example, a 90 percentile means you scored better than
        90% of test-takers. This score plays a major role in the IIM admission
        process, which also includes the Written Ability Test (WAT), Group
        Discussion (GD), Personal Interview (PI), and your academic/work
        profile.
      </p>
      <p>
        Once the official response sheet is out, you can use our CAT Score
        Calculator to estimate your raw score and predicted percentile.
      </p>

      <section class="cat-score-section" aria-label="CAT Score Vs Percentile Table">
        <h3>CAT Score Vs Percentile</h3>
        <table class="cat-score-table" aria-describedby="catScoreVsPercentileDesc">
          <caption id="catScoreVsPercentileDesc" class="sr-only">
            Table showing CAT percentiles and corresponding VARC, LRDI, Quant, and Overall scores
          </caption>
          <thead>
            <tr>
              <th scope="col">Percentile</th>
              <th scope="col">VARC</th>
              <th scope="col">LRDI</th>
              <th scope="col">Quant</th>
              <th scope="col">Overall</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>99.9</td><td>50+</td><td>50.1</td><td>52+</td><td>130+</td></tr>
            <tr><td>99.5</td><td>44+</td><td>41+</td><td>37+</td><td>103+</td></tr>
            <tr><td>99</td><td>40+</td><td>37+</td><td>33+</td><td>95+</td></tr>
            <tr><td>97</td><td>33+</td><td>30+</td><td>25+</td><td>79+</td></tr>
            <tr><td>95</td><td>30+</td><td>27+</td><td>22+</td><td>70+</td></tr>
            <tr><td>90</td><td>24+</td><td>22.5+</td><td>16+</td><td>58+</td></tr>
            <tr><td>85</td><td>20+</td><td>19.23+</td><td>13.3+</td><td>49+</td></tr>
            <tr><td>80</td><td>18+</td><td>18+</td><td>11.85+</td><td>44+</td></tr>
            <tr><td>75</td><td>15+</td><td>15+</td><td>9.94+</td><td>36+</td></tr>
            <tr><td>70</td><td>13+</td><td>13+</td><td>8.2+</td><td>34+</td></tr>
          </tbody>
        </table>
      </section>

      <h3>How is Your CAT Percentile Calculated?</h3>
      <p>
        The percentile is calculated using the Equipercentile Method, which
        standardizes your raw scores by comparing them with those of other
        candidates. The resulting score tells you what percentage of test-takers
        scored below you.
      </p>
      <h3>Category-Based Cutoffs: What You Should Know</h3>
      <p>
        IIMs release different cutoff percentiles for various categories like
        General, EWS, OBC, SC, and ST. They also consider gender as part of
        their diversity initiatives. This means that the chances of receiving a
        call may vary depending on your background.
      </p>
      <h3>Predict Your Chances with Our Custom-Built Tool</h3>
      <p>
        At AB CLASSES, we’ve built a reliable percentile prediction tool based
        on years of experience and real data. It helps you understand the
        minimum percentile needed for calls from different IIMs and top MBA
        colleges. Each institute follows its own selection rules — our tool
        gives you a tailored estimate of your admission chances.
      </p>
      <h3>CAT Section Details and Scores</h3>
      <div class="cat-score-description" aria-label="Detailed description of CAT sections" style="background:white; color:#000000;">
        <p>
          <strong>VARC Section:</strong> The VARC section has 16 Reading Comprehension (RC) questions divided into 4 RC sets of 4 questions each, and 8 Verbal Ability (VA) questions consisting of 2 Para-Summaries, 2 Para-Jumbles, 2 Para-Insertions, and 2 Para-Completion questions. This section tests comprehension, vocabulary, and verbal reasoning skills.
        </p>
        <p>
          <strong>DILR Section:</strong> The DILR section has 5 sets of 4 questions each, totaling 20 questions. A good strategy and careful set selection are crucial for success in this section.
        </p>
        <p>
          <strong>Quant Section:</strong> The Quant section this year was challenging, with lengthy questions and a higher number of Algebra questions than usual. Other topics included Arithmetic, Geometry, Number Systems, and Modern Math.
        </p>
      </div>
      <div class="cat-score-subsection-container">
        <div class="cat-score-subsection">
          <h4>CAT VARC Score Vs Percentile</h4>
          <table class="cat-score-table" aria-describedby="varcDesc">
            <caption id="varcDesc" class="sr-only">
              Table showing CAT VARC scores and corresponding percentiles
            </caption>
            <thead>
              <tr>
                <th scope="col">Percentile</th>
                <th scope="col">Score</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>99.99</td><td>58.96</td></tr>
              <tr><td>99.9</td><td>55</td></tr>
              <tr><td>99.5</td><td>44</td></tr>
              <tr><td>99</td><td>40.3</td></tr>
              <tr><td>95</td><td>30</td></tr>
              <tr><td>90</td><td>24</td></tr>
              <tr><td>80</td><td>18.2</td></tr>
            </tbody>
          </table>
        </div>
        <div class="cat-score-subsection">
          <h4>CAT DILR Score Vs Percentile</h4>
          <table class="cat-score-table" aria-describedby="dilrDesc">
            <caption id="dilrDesc" class="sr-only">
              Table showing CAT DILR scores and corresponding percentiles
            </caption>
            <thead>
              <tr>
                <th scope="col">Percentile</th>
                <th scope="col">Score</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>99.99</td><td>58.66</td></tr>
              <tr><td>99.9</td><td>50.1</td></tr>
              <tr><td>99.5</td><td>41.4</td></tr>
              <tr><td>99</td><td>37.8</td></tr>
              <tr><td>95</td><td>27</td></tr>
              <tr><td>90</td><td>22.5</td></tr>
              <tr><td>80</td><td>17</td></tr>
            </tbody>
          </table>
        </div>
        <div class="cat-score-subsection">
          <h4>CAT Quant Score Vs Percentile</h4>
          <table class="cat-score-table" aria-describedby="quantDesc">
            <caption id="quantDesc" class="sr-only">
              Table showing CAT Quant scores and corresponding percentiles
            </caption>
            <thead>
              <tr>
                <th scope="col">Percentile</th>
                <th scope="col">Score</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>99.99</td><td>44.89</td></tr>
              <tr><td>99.9</td><td>43</td></tr>
              <tr><td>99.5</td><td>36.5</td></tr>
              <tr><td>99</td><td>33</td></tr>
              <tr><td>95</td><td>25</td></tr>
              <tr><td>90</td><td>17</td></tr>
              <tr><td>80</td><td>11.6</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </main>
  <footer class="bg-[#ff0000] flex-shrink-0 p-12 text-white w-full">
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row md:justify-between md:items-start gap-12">
     <div class="flex flex-col space-y-4 md:w-1/3">
      <h3 class="text-xl font-bold border-b border-white pb-2">AB Classes</h3>
      <p class="text-sm text-white/90">
       AB Classes is your trusted partner for CAT preparation, delivering
       top-notch coaching and success stories year after year.
      </p>
      <div class="flex space-x-4 mt-2">
       <a
         href="https://api.whatsapp.com/send?phone=919827118488&text=I%20want%20to%20enquire%20about%20AB%20Classes"
         target="_blank"
         rel="noopener"
         aria-label="Facebook"
         class="hover:text-white/80 transition"
         ><i class="fab fa-facebook fa-lg"></i
       ></a>
       <a
         href=""
         target="_blank"
         rel="noopener"
         aria-label="Twitter"
         class="hover:text-white/80 transition"
         ><i class="fab fa-twitter fa-lg"></i
       ></a>
       <a
         href="https://www.instagram.com/cat_abclasses/"
         target="_blank"
         rel="noopener"
         aria-label="Instagram"
         class="hover:text-white/80 transition"
         ><i class="fab fa-instagram fa-lg"></i
       ></a>
       <a
         href=""
         target="_blank"
         rel="noopener"
         aria-label="LinkedIn"
         class="hover:text-white/80 transition"
         ><i class="fab fa-linkedin fa-lg"></i
       ></a>
      </div>
     </div>
     <div class="flex flex-col space-y-4 md:w-1/3">
      <h3 class="text-xl font-bold border-b border-white pb-2">Quick Links</h3>
      <nav class="flex flex-col space-y-2 text-white/90">
       <a
         href="index.html"
         class="hover:text-white/80 transition"
         >Home</a
       >
       <a
         href="results.html"
         class="hover:text-white/80 transition"
         >Results</a
       >
       <a
         href="cd.hmtl"
         class="hover:text-white/80 transition"
         >Courses</a
       >
       <a href="https://api.whatsapp.com/send?phone=919827118488&text=I%20want%20to%20enquire%20about%20AB%20Classes" class="hover:text-white/80 transition"
         >Contact</a
       >
      </nav>
     </div>
     <div class="flex flex-col space-y-4 md:w-1/3">
      <h3 class="text-xl font-bold border-b border-white pb-2">Contact Us</h3>
      <address class="not-italic text-white/90 space-y-2">
       <p>AB Classes Pvt. Ltd.</p>
       <p>Agrasen Chowk, Raipur, Chhattisgarh 492001</p>
       <p>Phone: <a href="tel:+919827118488" class="hover:text-white/80">+91 98271 18488</a></p>
       <p>Email: <a href="mailto:info@abclasses.in" class="hover:text-white/80">info@abclasses.in</a></p>
      </address>
     </div>
    </div>
   </footer>
  <script>
    const workexInput = document.getElementById("workex");
    const class10Input = document.getElementById("class10");
    const class12Input = document.getElementById("class12");
    const undergradInput = document.getElementById("undergrad");
    const nameInput = document.getElementById("name");
    const categoryInput = document.getElementById("category");
    const undergradStreamInput = document.getElementById("undergradStream");
    const catscoreInput = document.getElementById("catscore");
    const profileTitle = document.getElementById("profileTitle");
    const academicsFill = document.getElementById("academicsFill");
    const academicsThumb = document.getElementById("academicsThumb");
    const workexFill = document.getElementById("workexFill");
    const workexThumb = document.getElementById("workexThumb");
    const academicsAnalysis = document.getElementById("academicsAnalysis");
    const workexAnalysis = document.getElementById("workexAnalysis");
    const percentileResult = document.getElementById("percentileResult");
    const catPercentileBarWrapper = document.getElementById("catPercentileBarWrapper");
    const catPercentileBarFill = document.getElementById("catPercentileBarFill");
    const catPercentileThumb = document.getElementById("catPercentileThumb");
    const catScoresContainer = document.getElementById("catScoresContainer");
    const catPercentileInput = document.getElementById("catPercentile");
    const varcScoreInput = document.getElementById("varcScore");
    const dilrScoreInput = document.getElementById("dilrScore");
    const qaScoreInput = document.getElementById("qaScore");

    function calculateAcademicsScore() {
      const c10 = parseFloat(class10Input.value);
      const c12 = parseFloat(class12Input.value);
      const ug = parseFloat(undergradInput.value);

      if (isNaN(c10) || isNaN(c12) || isNaN(ug)) return null;

      const scores = [c10, c12, ug];

      let high = scores.filter((score) => score >= 90).length;
      let mid = scores.filter((score) => score >= 75 && score < 90).length;
      let low = scores.filter((score) => score < 75).length;

      if (high >= 2) {
        return 90; // Strong
      }

      if ((high === 1 && mid === 2) || mid === 3) {
        return 70; // Above Average
      }

      if ((high === 1 && mid === 1 && low === 1) || (mid === 2 && low === 1)) {
        return 50; // Average
      }

      return 25; // Weak
    }

    function getAcademicsAnalysis(score) {
      if (score === null) {
        return `Please enter valid percentages for Class 10, Class 12, and Undergrad to get analysis.`;
      }
      if (score === 90) {
        return `Your academic profile is strong and competitive for top IIMs.<br><br>
<strong>Suggestions:</strong><br>
• Maintain your strong academic record.<br>
• Aim for a high CAT percentile to complement your profile.<br>
• Prepare well for interviews and WAT to leverage your academics.<br><br>
<strong>How to Improve:</strong><br>
• Keep up with consistent study habits.<br>
• Engage in academic projects or certifications to add value.<br>
• Practice mock interviews focusing on your academic strengths.<br><br>
<strong>Colleges to Target:</strong><br>
• IIM Ahmedabad, IIM Bangalore, IIM Calcutta<br>
• Other top-tier IIMs and premier B-schools like ISB, FMS, XLRI.`;
      } else if (score === 70) {
        return `You have an above average academic profile with good potential.<br><br>
<strong>Suggestions:</strong><br>
• Work on improving your CAT score.<br>
• Highlight strengths in other areas like work experience.<br>
• Prepare a compelling personal narrative for interviews.<br><br>
<strong>How to Improve:</strong><br>
• Focus on CAT preparation to boost your percentile.<br>
• Take additional courses or certifications related to your field.<br>
• Strengthen your profile with internships or projects.<br><br>
<strong>Colleges to Target:</strong><br>
• IIM Lucknow, IIM Kozhikode, IIM Indore<br>
• Other reputed B-schools like MDI, SPJIMR, IMT Ghaziabad.`;
      } else if (score === 50) {
        return `Your academic profile is average.<br><br>
<strong>Suggestions:</strong><br>
• Focus on gaining relevant work experience.<br>
• Aim for a very high CAT percentile.<br>
• Prepare thoroughly for interviews and WAT.<br><br>
<strong>How to Improve:</strong><br>
• Invest significant time in CAT preparation.<br>
• Gain internships or part-time roles to build experience.<br>
• Work on communication and soft skills.<br><br>
<strong>Colleges to Target:</strong><br>
• IIM Ranchi, IIM Rohtak, IIM Trichy<br>
• Other emerging B-schools with holistic evaluation.`;
      } else {
        return `Your academic profile is weak.<br><br>
<strong>Suggestions:</strong><br>
• Compensate with strong work experience and CAT score.<br>
• Consider B-schools with holistic evaluation.<br>
• Prepare well for interviews to showcase your strengths.<br><br>
<strong>How to Improve:</strong><br>
• Focus on building a strong work experience portfolio.<br>
• Prepare intensively for CAT and other entrance exams.<br>
• Develop leadership and extracurricular profiles.<br><br>
<strong>Colleges to Target:</strong><br>
• Newer IIMs like IIM Udaipur, IIM Kashipur<br>
• Other reputed private B-schools and universities offering MBA.`;
      }
    }

    function getWorkExAnalysis(workex) {
      if (isNaN(workex) || workex < 0) {
        return "Please enter valid work experience in months to get analysis.";
      }
      if (workex < 6) {
        return `With less than 6 months of experience, you're considered a fresher. Some IIMs prefer work experience, but strong academics and CAT performance can compensate.<br><br>
<strong>Suggestions:</strong><br>
• Focus on scoring very high in CAT.<br>
• Build strong academic and extracurricular profiles.<br>
• Prepare well for interviews to highlight your potential.<br><br>
<strong>How to Improve:</strong><br>
• Gain internships or project experience.<br>
• Develop leadership and teamwork skills.<br>
• Engage in relevant certifications or courses.<br><br>
<strong>Colleges to Target:</strong><br>
• IIM Ahmedabad (with exceptional CAT score), IIM Bangalore<br>
• Other top IIMs with fresher-friendly policies like IIM Lucknow, IIM Indore.`;
      } else if (workex < 24) {
        return `You have moderate experience. This is a sweet spot for many IIMs. Present your experience impactfully in interviews and SOPs.<br><br>
<strong>Suggestions:</strong><br>
• Highlight your achievements and leadership roles.<br>
• Prepare a strong narrative linking work experience to MBA goals.<br>
• Aim for a good CAT percentile to complement your profile.<br><br>
<strong>How to Improve:</strong><br>
• Take on leadership or impactful projects at work.<br>
• Develop skills relevant to your MBA specialization.<br>
• Network with alumni and professionals for guidance.<br><br>
<strong>Colleges to Target:</strong><br>
• IIM Calcutta, IIM Bangalore, IIM Lucknow<br>
• Other reputed B-schools like XLRI, MDI, SPJIMR.`;
      } else if (workex <= 36) {
        return `Your work experience is ideal for most IIMs. You can bring valuable insights to class discussions. Highlight leadership or impactful contributions.<br><br>
<strong>Suggestions:</strong><br>
• Emphasize leadership, strategic thinking, and results.<br>
• Align your career goals clearly with MBA offerings.<br>
• Prepare for behavioral and case interviews thoroughly.<br><br>
<strong>How to Improve:</strong><br>
• Take on cross-functional roles or initiatives.<br>
• Pursue certifications like PMP, Six Sigma, or relevant courses.<br>
• Build a strong professional network.<br><br>
<strong>Colleges to Target:</strong><br>
• IIM Ahmedabad, IIM Bangalore, IIM Calcutta<br>
• ISB Hyderabad, FMS Delhi, XLRI Jamshedpur.`;
      } else {
        return `You have strong experience, but ensure your goals align with an MBA. You might be asked why MBA now. Executive MBA is also a possible fit depending on your aspirations.<br><br>
<strong>Suggestions:</strong><br>
• Clearly articulate your motivation for pursuing MBA.<br>
• Highlight your leadership and strategic impact.<br>
• Consider Executive MBA or part-time MBA options.<br><br>
<strong>How to Improve:</strong><br>
• Engage in leadership development programs.<br>
• Network with senior professionals and alumni.<br>
• Prepare a compelling story for your career transition.<br><br>
<strong>Colleges to Target:</strong><br>
• IIM Ahmedabad (Executive MBA), IIM Bangalore (EPGP)<br>
• ISB Hyderabad, XLRI Executive programs, other top Executive MBA programs.`;
      }
    }

    function calculateWorkexScore(workex) {
      if (isNaN(workex) || workex < 0) return null;
      let leftPercent = 0;
      if (workex <= 12) {
        leftPercent = (workex / 12) * 25;
      } else if (workex <= 24) {
        leftPercent = 25 + ((workex - 12) / 12) * 25;
      } else if (workex <= 30) {
        leftPercent = 50 + ((workex - 24) / 6) * 25;
      } else {
        leftPercent = 75 + Math.min((workex - 30) / 30, 1) * 25;
      }
      if (leftPercent > 100) leftPercent = 100;
      if (leftPercent < 0) leftPercent = 0;
      return leftPercent;
    }

    function updateProfileName() {
      let nameVal = nameInput.value.trim();
      if (nameVal.length === 0) {
        profileTitle.textContent = "User's Profile Evaluation";
      } else {
        profileTitle.textContent = `${nameVal}'s Profile Evaluation`;
      }
    }

    function updateAcademicsBar() {
      const score = calculateAcademicsScore();
      if (score === null) {
        academicsFill.style.width = `40%`;
        academicsThumb.style.left = `40%`;
        academicsAnalysis.innerHTML = `<div class="analysis-title">Analysis & Tips</div><div>Loading analysis...</div>`;
      } else {
        academicsFill.style.width = `${score}%`;
        academicsThumb.style.left = `${score}%`;
        const analysisText = getAcademicsAnalysis(score);
        academicsAnalysis.innerHTML = `<div class="analysis-title">Analysis & Tips</div><div>${analysisText}</div>`;
      }
    }

    function updateWorkexBar() {
      const workexVal = parseFloat(workexInput.value);
      const score = calculateWorkexScore(workexVal);
      if (score === null) {
        workexFill.style.width = `25%`;
        workexThumb.style.left = `25%`;
        workexAnalysis.innerHTML = `<div class="analysis-title">Work Experience Evaluation</div><div>Loading analysis...</div>`;
      } else {
        workexFill.style.width = `${score}%`;
        workexThumb.style.left = `${score}%`;
        const analysisText = getWorkExAnalysis(workexVal);
        workexAnalysis.innerHTML = `<div class="analysis-title">Work Experience Evaluation</div><div>${analysisText}</div>`;
      }
    }

    function getAcademicsCategory(score) {
      if (score >= 85) return "strong";
      if (score >= 65) return "aboveAverage";
      if (score >= 40) return "average";
      return "weak";
    }

    function getWorkexCategory(workex) {
      if (workex < 6) return "weak";
      if (workex < 24) return "average";
      if (workex <= 36) return "aboveAverage";
      return "strong";
    }

    function getPercentileRange(academicsCat, workexCat, category) {
      // Simplified logic for percentile range estimation based on categories and category
      // category param is string like "General", "OBC", etc.

      // Base percentile ranges for General category
      const baseRanges = {
        strong: { strong: "95-99+", aboveAverage: "90-95", average: "85-90", weak: "80-85" },
        aboveAverage: { strong: "90-95", aboveAverage: "85-90", average: "80-85", weak: "75-80" },
        average: { strong: "85-90", aboveAverage: "80-85", average: "75-80", weak: "70-75" },
        weak: { strong: "80-85", aboveAverage: "75-80", average: "70-75", weak: "65-70" },
      };

      let percentileRange = "N/A";

      if (baseRanges[academicsCat] && baseRanges[academicsCat][workexCat]) {
        percentileRange = baseRanges[academicsCat][workexCat];
      }

      // Adjust percentile range based on category (relaxation for reserved categories)
      const categoryAdjustments = {
        General: 0,
        OBC: -5,
        SC: -10,
        ST: -10,
        Other: -5,
      };

      const adjustment = categoryAdjustments[category] || 0;

      // Parse range and adjust
      const match = percentileRange.match(/(\d+)-(\d+)(\+?)/);
      if (match) {
        let low = parseInt(match[1], 10) + adjustment;
        let high = parseInt(match[2], 10) + adjustment;
        if (low < 0) low = 0;
        if (high > 100) high = 100;
        percentileRange = `${low}-${high}${match[3]}`;
      }

      return percentileRange;
    }

    function updatePercentileEstimate() {
      const academicsScore = calculateAcademicsScore();
      const workexVal = parseFloat(workexInput.value);
      const category = categoryInput.value || "General";
      const hasCatScore = catscoreInput.value === "Yes";

      if (hasCatScore) {
        // Validate CAT percentile and section scores
        const catPercentileVal = parseFloat(catPercentileInput.value);
        const varcVal = parseFloat(varcScoreInput.value);
        const dilrVal = parseFloat(dilrScoreInput.value);
        const qaVal = parseFloat(qaScoreInput.value);

        if (
          isNaN(catPercentileVal) || catPercentileVal < 0 || catPercentileVal > 100 ||
          isNaN(varcVal) || varcVal < 0 || varcVal > 100 ||
          isNaN(dilrVal) || dilrVal < 0 || dilrVal > 100 ||
          isNaN(qaVal) || qaVal < 0 || qaVal > 100
        ) {
          percentileResult.textContent =
            "Please enter valid CAT percentile and scaled scores (0-100) to estimate percentile.";
          catPercentileBarWrapper.style.display = "none";
          return;
        }

        // Use user CAT percentile directly for prediction
        percentileResult.innerHTML = `<p><strong>Your entered CAT percentile:</strong> ${catPercentileVal.toFixed(1)}</p>`;

        // Show and update CAT percentile bar
        let widthPercent = catPercentileVal;
        if (widthPercent > 100) widthPercent = 100;
        if (widthPercent < 0) widthPercent = 0;
        catPercentileBarWrapper.style.display = "block";
        catPercentileBarFill.style.width = widthPercent + "%";
        catPercentileThumb.style.left = widthPercent + "%";
        catPercentileThumb.setAttribute("aria-label", `CAT percentile indicator at ${catPercentileVal.toFixed(1)} percentile`);

      } else {
        // No CAT score: use academics and workex to estimate percentile
        if (academicsScore === null || isNaN(workexVal) || workexVal < 0) {
          percentileResult.textContent = "";
          catPercentileBarWrapper.style.display = "none";
          return;
        }

        const academicsCat = getAcademicsCategory(academicsScore);
        const workexCat = getWorkexCategory(workexVal);

        const percentileRange = getPercentileRange(academicsCat, workexCat, category);

        percentileResult.textContent = `Estimated CAT Percentile Required: ${percentileRange}`;
        catPercentileBarWrapper.style.display = "none";
      }
    }

    function updateAll() {
      updateAcademicsBar();
      updateWorkexBar();
      updateProfileName();
      updatePercentileEstimate();
    }

    // Show/hide CAT scores inputs based on selection
    catscoreInput.addEventListener("change", () => {
      if (catscoreInput.value === "Yes") {
        catScoresContainer.style.display = "grid";
        // Make CAT inputs required
        catPercentileInput.setAttribute("required", "true");
        varcScoreInput.setAttribute("required", "true");
        dilrScoreInput.setAttribute("required", "true");
        qaScoreInput.setAttribute("required", "true");
      } else {
        catScoresContainer.style.display = "none";
        // Clear and remove required from CAT inputs
        catPercentileInput.value = "";
        varcScoreInput.value = "";
        dilrScoreInput.value = "";
        qaScoreInput.value = "";
        catPercentileInput.removeAttribute("required");
        varcScoreInput.removeAttribute("required");
        dilrScoreInput.removeAttribute("required");
        qaScoreInput.removeAttribute("required");
      }
      updateAll();
    });

    workexInput.addEventListener("input", updateAll);
    class10Input.addEventListener("input", updateAll);
    class12Input.addEventListener("input", updateAll);
    undergradInput.addEventListener("input", updateAll);
    categoryInput.addEventListener("change", updateAll);
    undergradStreamInput.addEventListener("change", updateAll);
    nameInput.addEventListener("input", updateProfileName);
    catPercentileInput.addEventListener("input", updateAll);
    varcScoreInput.addEventListener("input", updateAll);
    dilrScoreInput.addEventListener("input", updateAll);
    qaScoreInput.addEventListener("input", updateAll);

    document.getElementById("predictBtn").addEventListener("click", () => {
      updateAll();
    });

    updateAll();

    // Mobile menu toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => {
      const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
      mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</body>
</html>